#import "template.typ": *
#import "@preview/muchpdf:0.1.0": muchpdf
// Take a look at the file `template.typ` in the file panel
// to customize this template and discover how it works.
#show: project.with(
  title: "Сети и телекоммуникации. КМ-2. Канальный и сетевой уровни модели OSI. Подуровень MAC. Доклад.",
  authors: (
    "Кирш Я.А. ИДз-21-21. Вариант 4.",
  ),
)
#show figure: set block(breakable: true)
#set terms(separator: [: ])
#set heading(
  numbering: (..nums) => {
    if nums.pos().len() >= 4 {
      none
    } else {
      numbering("1.", ..nums)
    }
  },
)
#outline()

#pagebreak()

= Введение

Подуровень управления доступом к среде (Medium Access Control, MAC) является ключевой частью канального уровня модели OSI. Он отвечает за координацию доступа множества устройств к общей среде передачи данных, предотвращение конфликтов и обеспечение эффективного использования сетевых ресурсов @tanenbaum_ru. В данном докладе рассматриваются основные принципы функционирования подуровня MAC, его реализация в различных сетевых технологиях с акцентом на стандарт IEEE 802.16.

Канальный уровень в модели OSI обычно разделяется на два подуровня:
- Подуровень управления логическим каналом (LLC) - верхняя часть
- Подуровень управления доступом к среде (MAC) - нижняя часть

Такое разделение позволяет изолировать особенности доступа к конкретной физической среде от задач надежной передачи данных, что обеспечивает большую гибкость при разработке сетевых протоколов.

= Общая характеристика подуровня MAC

Подуровень MAC расположен между физическим уровнем и подуровнем управления логическим каналом (LLC) в архитектуре сетей. Он выполняет ряд критически важных функций:

== Основные функции

- Управление доступом к среде передачи данных
- Адресация устройств на канальном уровне
- Обнаружение и предотвращение коллизий
- Формирование и обработка кадров
- Обеспечение качества обслуживания (QoS)
- Распределение сетевых ресурсов между устройствами
- Контроль ошибок при передаче (в некоторых реализациях)

// В зависимости от используемой технологии, подуровень MAC может применять различные алгоритмы доступа к среде:
//
// #figure(
//   table(
//     columns: (auto, auto),
//     [*Тип доступа*], [*Примеры реализации*],
//     [Случайный доступ], [CSMA/CD (Ethernet), CSMA/CA (Wi-Fi)],
//     [Детерминированный доступ], [Token Ring, FDDI],
//     [Гибридные схемы], [802.16 (WiMAX)],
//   ),
//   caption: [Алгоритмы доступа к среде в зависимости от типа]
// )

== Подуровень LLC и его взаимодействие с MAC

Подуровень LLC (Logical Link Control) скрывает различия между разными типами сетей 802.x, предоставляя сетевому уровню единый формат и интерфейс. Формат, интерфейс и протокол основаны на протоколе HDLC. LLC предоставляет три варианта сервисов:
- Ненадежный дейтаграммный сервис
- Дейтаграммный сервис с подтверждениями
- Надежный ориентированный на соединение сервис

= Проблема распределения канала

Основной проблемой, решаемой на подуровне MAC, является распределение общего канала между множеством конкурирующих станций. Существует несколько основных стратегий:

== Стратегии распределения канала

1. *Частотное и временное уплотнение*: Эффективны при небольшом количестве станций и постоянном трафике. Широко применяются для разделения полосы пропускания в телефонных магистралях;
2. *Протоколы семейства ALOHA*: Разработаны для случаев, когда количество станций велико и непостоянно. Подходят для пульсирующего трафика;
3. *Протоколы с контролем несущей (CSMA)*: Станции прослушивают канал и отказываются от передачи, когда он занят. Основа для технологий Ethernet (CSMA/CD) и Wi-Fi (CSMA/CA);
4. *Протоколы с устранением борьбы за канал*: Протокол с двоичным обратным отсчетом полностью устраняет состязание. Протокол адаптивного дерева снижает остроту борьбы, динамически деля станции на группы;
5. *Протоколы с контролем виртуального канала*: Используются в беспроводных сетях для решения проблемы "скрытого узла". Пример: MACAW (MACA for Wireless);

== Оценка эффективности стратегий

Каждую стратегию можно оценить по двум важным параметрам:
- Времени задержки при низкой загрузке канала
- Эффективности канала при большой загрузке

Производительность всей системы может быть улучшена при использовании асимметричного протокола, в котором станциям назначаются различные вероятности доступа @kurose.

= Подуровень MAC в стандарте IEEE 802.16

== Структура подуровня

В стандарте IEEE 802.16 уровень передачи данных разделен на три подуровня @tanenbaum_ru:
- *Подуровень конвергенции (CS)* позволяет взаимодействовать с протоколами верхнего уровня
- *Общая часть подуровня MAC* управляет доступом к среде (QoS)
- *Подуровень защиты информации* обеспечивает шифрование и аутентификацию

Подуровень защиты информации обеспечивает конфиденциальность передаваемых данных через шифрование, при этом шифруются только сами данные, а заголовки остаются открытыми @tanenbaum_ru. Это означает, что злоумышленник может узнать, кто с кем разговаривает, но не может подслушать содержание разговора.

При соединении абонента с базовой станцией происходит взаимная идентификация с использованием алгоритма RSA с открытым ключом (сертификат X.509). Сама передаваемая информация шифруется с помощью симметричных криптографических алгоритмов:
- AES (Rijndael)
- DES со сцеплением зашифрованных блоков (cipher block chaining)

Целостность данных проверяется алгоритмом SHA-1.

== Принципы функционирования

Ключевые особенности подуровня MAC в стандарте IEEE 802.16:

1. *Ориентация на соединение*: В отличие от 802.11 и Ethernet, где отсутствуют механизмы установления соединения на подуровне MAC, 802.16 использует ориентированный на соединение подход. Каждое соединение получает доступ к одному из классов сервиса, что определяется при установке связи;
2. *Топология точка-многоточка*: Одна базовая станция общается с несколькими абонентскими станциями. Большая часть этой схемы заимствована у кабельных модемов, в которых один головной узел кабеля управляет обменом с несколькими кабельными модемами;
3. *Асимметричная организация каналов*:
  - *Канал нисходящего трафика* (от базовой станции к абонентам) имеет простую структуру. Базовая станция управляет пакетами физического уровня, которые используются для отправки информации различным абонентским станциям;
  - *Канал восходящего трафика* (от абонентов к базовой станции) сложнее из-за конкуренции между станциями за доступ к каналу. Его распределение тесно связано с вопросом качества обслуживания;

== Классы сервисов

Для обеспечения качества обслуживания в стандарте IEEE 802.16 определены четыре класса сервисов @tanenbaum_ru:

1. *Сервис с постоянной битовой скоростью* — предназначен для передачи несжатой речи, например, по каналу T1. Каждому соединению назначаются свои временные интервалы, и доступ к ним осуществляется автоматически, без необходимости запрашивать каждый по отдельности.

2. *Сервис реального времени с переменной битовой скоростью* — применяется при передаче сжатых мультимедийных данных. Базовая станция периодически опрашивает абонента для определения необходимой ширины канала.

3. *Сервис, работающий не в реальном масштабе времени, с переменной битовой скоростью* — предназначен для интенсивного трафика, например, передачи больших файлов. Базовая станция опрашивает абонентов, но не в строго установленные моменты времени.

4. *Сервис с обязательством приложения максимальных усилий* — используется для всех остальных типов передачи. Станции конкурируют за доступ к каналу, а для минимизации числа коллизий используется алгоритм двоичной экспоненциальной выдержки, аналогичный Ethernet.

= Беспроводные локальные сети и подуровень MAC

Беспроводные сети имеют специфическую проблему - проблему "скрытого узла".#footnote["Скрытый узел" в других источниках может назвываться "скрытый передатчик" или "скрытый терминал".]
В беспроводных сетях может возникать ситуация, когда две станции не "слышат" друг друга, но обе находятся в зоне действия третьей станции. Это приводит к коллизиям, которые не могут быть обнаружены методом CSMA/CD . Для решения этой проблемы используются протоколы типа MACAW и CSMA/CA, например, в режиме DFC, узел, который хочет использовать среду, в временном слоте передает сначала короткий служебный кадр RTS (Request To Send), на который станция отвечает, если она свободна, кадром CTS(Clear To Send). @olifer

== Режимы работы в стандарте 802.11

Стандарт 802.11 поддерживает два режима работы @olifer:

/ DCF (Distributed Coordination Function — Распределенная координация)":
  - Не имеет средств централизованного управления
  - Использует протокол CSMA/CA (CSMA with Collision Avoidance)
  - Все реализации стандарта должны поддерживать этот режим,
/ PCF (Point Coordination Function — Сосредоточенная координация)":
  - Базовая станция берет на себя функцию управления активностью всех станций данной соты
  - Порядок "выступлений" полностью координируется базовой станцией
  - Является дополнительной возможностью

== Протокол CSMA/CA в 802.11

CSMA/CA может работать в двух режимах @kurose:

1. *Базовый режим*:
  - Станция прослушивает канал перед передачей
  - Если канал свободен, начинается передача данных
  - Во время передачи канал не прослушивается
  - Если канал занят, станция дожидается его освобождения

2. *Режим с виртуальным контролем канала*:
  - Основан на протоколе MACAW
  - Использует механизм запроса на передачу (RTS) и разрешения на передачу (CTS)
  - Позволяет решить проблему "скрытого узла" @wiki_hidden_node

== Механизм энергосбережения

В беспроводных сетях важен вопрос экономии энергии. Базовая станция может приказать станции перейти в "сонный" режим (пониженного потребления), даже в "сонном" режиме станция должна сохранять в буфере приходящие кадры.

= Сравнение с другими реализациями подуровня MAC

#figure(
  table(
    columns: (auto, auto, auto, auto, auto),
    [*Характеристика*],
    [*Ethernet (IEEE 802.3)*],
    [*IEEE 802.11 (Wi-Fi)*],
    [*IEEE 802.16 (WiMAX)*],
    [*IEEE 802.15 (Bluetooth)*],

    [Полное название],
    [Ethernet],
    [Wireless Fidelity],
    [Worldwide Interoperability for Microwave Access],
    [Bluetooth (назван в честь датского короля Харальда Блутуса)],

    [Метод доступа],
    [CSMA/CD],
    [CSMA/CA],
    [Централизованное планирование],
    [TDMA с частотными скачками],

    [Установление соединения],
    [Отсутствует],
    [Отсутствует],
    [Присутствует],
    [Присутствует (спаривание)],

    [Механизм QoS],
    [Не гарантирован],
    [Базовый (WMM)],
    [Комплексный (4 класса сервиса)],
    [Базовый (для SCO)],

    [Организация сети],
    [Одноранговая],
    [Одноранговая/Иерархическая],
    [Иерархическая],
    [Иерархическая (пикосети)],

    [Топология сети],
    [Точка-точка, шина, звезда],
    [Точка-точка или точка-многоточка],
    [Точка-многоточка],
    [Точка-точка или точка-многоточка],

    [Проблема "скрытого узла"],
    [Отсутствует],
    [Присутствует],
    [Отсутствует],
    [Отсутствует],

    [Дальность действия],
    [До 100 м (медь)/До 40 км (оптика)],
    [До 100 м],
    [До 50 км],
    [До 10 м (около 30 футов)],

    [Пропускная способность],
    [До 10 Гбит/с],
    [От Мбит/с до Гбит/с (зависит от стандарта)],
    [От Мбит/с до 1 Гбит/с],
    [От Кбит/с до Мбит/с (зависит от версии)],

    [Масштабируемость], [Высокая], [Средняя], [Высокая], [Низкая],
    [Механизм обработки коллизий],
    [Обнаружение коллизий],
    [Предотвращение коллизий],
    [Исключение коллизий],
    [Исключение коллизий],

    [Шифрование на уровне MAC],
    [Отсутствует],
    [Присутствует (WEP, WPA, WPA2, WPA3)],
    [Присутствует],
    [Присутствует (шифрование, аутентификация)],

    [Стандартизация],
    [IEEE 802.3],
    [IEEE 802.11 (802.11a/b/g/n/ac)],
    [IEEE 802.16 (802.16e, 802.16d)],
    [IEEE 802.15, Bluetooth SIG],

    [Частотные диапазоны],
    [Проводная сеть (не применимо)],
    [2.4 ГГц, 5 ГГц и др.],
    [Лицензируемые и нелицензируемые диапазоны],
    [2.4 ГГц (Bluetooth Classic, BLE)],

    [Поддержка мобильности],
    [Отсутствует],
    [Присутствует (некоторые стандарты, напр. 802.11ac)],
    [Присутствует (802.16e)],
    [Присутствует (различные версии, напр. 2.1+EDR)],

    [Основные приложения],
    [Локальные сети],
    [Локальные беспроводные сети, доступ в интернет, IoT],
    [Широкополосный доступ, опорные сети],
    [Связь малого радиуса, беспроводное аудио],

    [Зона покрытия],
    [Локальная сеть],
    [Ограничена локальными зонами (дома, офисы)],
    [Широкая зона (городской масштаб)],
    [Малый радиус (комната или близость устройств)],

    [Лицензирование],
    [Не требует лицензирования],
    [Нелицензируемые и лицензируемые диапазоны],
    [Требует лицензий в некоторых диапазонах],
    [Нелицензируемый ISM диапазон (в основном 2.4 ГГц)],

    [Актуальность и распространение],
    [Повсеместное использование],
    [Повсеместное использование для локальных сетей],
    [Снижение популярности из-за конкуренции с 4G/5G],
    [Повсеместное использование для связи малого радиуса],

    [Особенности реализаций],
    [Случайный доступ с обнаружением коллизий; алгоритм двоичной экспоненциальной выдержки; различные физические реализации (10Base-T, 100Base-TX, 1000Base-T); использование коммутаторов для микросегментации],
    [Предотвращение коллизий вместо обнаружения; механизм межкадровых интервалов (SIFS, PIFS, DIFS, EIFS); фрагментация кадров для повышения надежности; встроенные механизмы шифрования и аутентификации],
    [Централизованный доступ с планированием; поддержка различных типов QoS для разных приложений; большая дальность связи; применение OFDMA для эффективного использования спектра],
    [Организация в пикосети с одним главным и до 7 подчиненными узлами; временное уплотнение с hop-скачками по частоте; поддержка синхронных (SCO) и асинхронных (ACL) соединений; энергоэффективная связь малого радиуса],
  ),
  caption: [Сравнение реализаций подуровня MAC в различных сетевых технологиях],
)

= Коммутация на уровне передачи данных

Соединение различных сетей на уровне передачи данных осуществляется с помощью мостов и коммутаторов, которые работают с MAC-адресами.

При соединении сетей могут проявляться следующие проблемы:

1. Различные форматы кадров:
  - Разные сети используют различные форматы кадров
  - Требуется переформатирование и пересчет контрольной суммы

2. Различные скорости передачи данных:
  - При пересылке кадров из быстрой сети в медленную возникает необходимость буферизации
  - Может происходить переполнение буфера

3. Различная максимальная длина кадра:
  - Невозможно передать длинный кадр в сеть с меньшим максимальным размером кадра
  - Протоколы уровня передачи данных не поддерживают фрагментацию

4. Различия в поддержке шифрования:
  - Некоторые сети (802.11, 802.16) поддерживают шифрование на уровне передачи данных, другие (Ethernet) - нет
  - Это создает проблемы при передаче шифрованных данных

== Виртуальные локальные сети (VLAN)

Виртуальные локальные сети позволяют логически разделить физическую сеть:

- Используется стандарт IEEE 802.1Q для маркировки кадров
- Позволяет группировать пользователей по логическому признаку, а не по физическому расположению
- Повышает безопасность и управляемость сети
- Снижает нагрузку на сеть, ограничивая широковещательный трафик

= Современные тенденции развития подуровня MAC

Современные реализации подуровня MAC развиваются в нескольких взаимосвязанных направлениях. Увеличение эффективности использования радиоспектра достигается путем применения технологий MIMO, использования адаптивной модуляции и кодирования, а также пространственного мультиплексирования. Параллельно идет улучшение поддержки качества обслуживания через обеспечение детерминированной задержки для чувствительного к времени трафика, приоритезацию различных типов данных и совершенствование управления очередями передачи. Важным направлением стала интеграция с программно-определяемыми сетями, что позволяет реализовать централизованное управление доступом к среде, динамическую настройку параметров подуровня MAC и более гибкое распределение ресурсов канала. Оптимизация энергопотребления приобретает особую значимость для устройств Интернета вещей, реализуясь через усовершенствованные протоколы сна и пробуждения, а также интеллектуальное управление мощностью передачи. Развитие также направлено на поддержку высокоскоростной передачи данных в сетях 5G и разрабатываемых 6G, использование миллиметрового диапазона волн и создание новых алгоритмов доступа к среде для обеспечения сверхвысоких скоростей.

= Заключение

Подуровень MAC играет ключевую роль в обеспечении эффективного доступа к среде передачи данных в компьютерных сетях. Реализация этого подуровня в стандарте IEEE 802.16 демонстрирует комплексный подход к обеспечению качества обслуживания через ориентированную на соединение модель с четко определенными классами сервисов.
В отличие от более простых реализаций в Ethernet и Wi-Fi, подуровень MAC в IEEE 802.16 обеспечивает более эффективное использование канала за счет централизованного управления доступом и поддержки различных классов трафика. Это делает данную технологию особенно подходящей для построения городских и региональных широкополосных беспроводных сетей с предсказуемыми характеристиками качества обслуживания.
Дальнейшее развитие подуровня MAC будет направлено на повышение эффективности использования среды передачи в условиях повсеместного распространения беспроводных устройств и возрастающих требований к пропускной способности и качеству обслуживания в современных компьютерных сетях.

#bibliography("bibliography.yaml")
